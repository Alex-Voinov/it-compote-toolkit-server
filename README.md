# Документация проекта

## Описание проекта
Этот проект представляет собой веб-приложение, использующее серверную часть на **Node.js** и фронтенд на **React** с поддержкой **TypeScript (TSX)**. Для управления состоянием используется **MobX**, а для развертывания на сервере применяется **PM2**. Веб-приложение обслуживает несколько React приложений и предоставляет **API** для их взаимодействия.

## Стек технологий
- **Сервер**: Node.js
- **Фронтенд**: React (TSX)
- **Управление состоянием**: MobX
- **Развертывание**: PM2, Nginx

## Структура проекта
Проект имеет следующую структуру:
- **builds**: Папка, содержащая сборки React приложений, которые отправляются по основным URL.
- **API**: Все API-запросы обрабатываются через контроллеры и сервисы, расположенные в соответствующих папках.
- **Server**: Основной сервер на Node.js, который обслуживает как React приложения, так и API.

## Развертывание

### Разработка:
1. Запуск сервера:
`npm run dev`
(Используется `nodemon` для отслеживания изменений)
2. Запуск React приложений:
`npm start`
для приложений по подбору групп и вебформы.

### Продукция:
1. Сборка React приложений:
`npm run build`
2. Сервер не требует сборки, файлы нужно загрузить на хост и активировать через **PM2**.
3. Не забывайте загрузить файлы, перечисленные в `.gitignore` (например, `.env` или JSON файлы с данными для авторизации в Google API таблицах).

### Настройки:
1. Разрешить запросы с **localhost** с портов приложений на сервере.
2. В объекте конфигурации сервера React приложений укажите **localhost** с портом сервера и API.

## Ошибки и логирование
- Все ошибки логируются с помощью кастомного логгера, выводятся как в консоль, так и в файл логов.
- При сбое **PM2** автоматически перезапускает сервер.

## API
API реализовано с использованием **Axios**. Все доступные эндпоинты можно найти в индексе на сервере и роутере, который подключается в соответствующий файл.

## Развитие проекта
В будущем планируется:
- Отправка запросов через прокси для минимизации ошибок **503**.
- Внедрение базы данных для сохранения данных и уменьшения нагрузки на API.

## Проверка работоспособности
После развертывания проекта:
1. Проверьте логи **PM2** на наличие ошибок.
2. Проверьте работоспособность React приложений по указанным URL.
3. Убедитесь в правильной работе API, протестировав POST-запросы для создания групп.
